var jsonData = {
    "holeTolerances": [
        {
            "letter": "A",
            "number": 11,
            "upperDeviations": [330, 345, 370, 400, 430, 470, 480, 530, 550, 600, 630, 710, 770],
            "lowerDeviations": [270, 270, 280, 290, 300, 310, 320, 340, 360, 380, 410, 460, 520]
        }, {
            "letter": "C",
            "number": 11,
            "upperDeviations": [120, 145, 170, 205, 240, 280, 290, 330, 340, 390, 400, 450, 460],
            "lowerDeviations": [60,  70,  80,  95,  110, 120, 130, 140, 150, 170, 180, 200, 210]
        }, {
            "letter": "D",
            "number": 9,
            "upperDeviations": [45, 60, 76, 93, 117, 142, 142, 174, 174, 207, 207, 245, 245],
            "lowerDeviations": [20, 30, 40, 50,  65,  80,  80, 100, 100, 120, 120, 145, 145]
        }, {
            "letter": "D",
            "number": 10,
            "upperDeviations": [60, 78, 98, 120, 149, 180, 180, 220, 220, 260, 260, 305, 305],
            "lowerDeviations": [20, 30, 40,  50,  65,  80,  80, 100, 100, 120, 120, 145, 145]
        }, {
            "letter": "E",
            "number": 7,
            "upperDeviations": [24, 32, 40, 50, 61, 75, 75, 90, 90, 107, 107, 125, 125],
            "lowerDeviations": [14, 20, 25, 32, 40, 50, 50, 60, 60,  72,  72,  85,  85]
        }, {
            "letter": "E",
            "number": 8,
            "upperDeviations": [28, 38, 47, 59, 73, 89, 89, 106, 106, 125, 125, 148, 148],
            "lowerDeviations": [14, 20, 25, 32, 40, 50, 50,  60,  60,  72,  72,  85,  85]
        }, {
            "letter": "E",
            "number": 9,
            "upperDeviations": [39, 50, 61, 75, 92, 112, 112, 134, 134, 159, 159, 185, 185],
            "lowerDeviations": [14, 20, 25, 32, 40,  50,  50,  60,  60,  72,  72,  85,  85]
        }, {
            "letter": "E",
            "number": 11,
            "upperDeviations": [74, 95, 115, 142, 170, 210, 210, 250, 250, 292, 292, 335, 335],
            "lowerDeviations": [14, 20,  25,  32,  40,  50,  50,  60,  60,  72,  72,  85,  85]
        }, {
            "letter": "F",
            "number": 6,
            "upperDeviations": [12, 18, 22, 27, 33, 41, 41, 49, 49, 58, 58, 68, 68],
            "lowerDeviations": [6,  10, 13, 16, 20, 25, 25, 30, 30, 36, 36, 43, 43]
        }, {
            "letter": "F",
            "number": 7,
            "upperDeviations": [16, 22, 28, 34, 41, 50, 50, 60, 60, 71, 71, 83, 83],
            "lowerDeviations": [6,  10, 13, 16, 20, 25, 25, 30, 30, 36, 36, 43, 43]
        }, {
            "letter": "F",
            "number": 8,
            "upperDeviations": [20, 28, 35, 43, 53, 64, 64, 76, 76, 90, 90, 106, 106],
            "lowerDeviations": [6,  10, 13, 16, 20, 25, 25, 30, 30, 36, 36,  43,  43]
        }, {
            "letter": "F",
            "number": 9,
            "upperDeviations": [31, 40, 49, 59, 72, 87, 87, 104, 104, 123, 123, 143, 143],
            "lowerDeviations": [6,  10, 13, 16, 20, 25, 25,  30,  30,  36,  36,  43,  43]
        }, {
            "letter": "G",
            "number": 6,
            "upperDeviations": [8, 12, 14, 17, 20, 25, 25, 29, 29, 34, 34, 39, 39],
            "lowerDeviations": [2,  4,  5,  6,  7,  9,  9, 10, 10, 12, 12, 14, 14]
        }, {
            "letter": "G",
            "number": 7,
            "upperDeviations": [12, 16, 20, 24, 28, 34, 34, 40, 40, 47, 47, 54, 54],
            "lowerDeviations": [2,  4,  5,  6,  7,  9,  9,  10, 10, 12, 12, 14, 14]
        }, {
            "letter": "G",
            "number": 8,
            "upperDeviations": [16, 22, 27, 33, 40, 48, 48, 56, 56, 66, 66, 77, 77],
            "lowerDeviations": [2,  4,  5,  6,  7,  9,  9,  10, 10, 12, 12, 14, 14]
        }, {
            "letter": "H",
            "number": 6,
            "upperDeviations": [6, 8, 9, 11, 13, 16, 16, 19, 19, 22, 22, 25, 25],
            "lowerDeviations": [0, 0, 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]
        }, {
            "letter": "H",
            "number": 7,
            "upperDeviations": [10, 12, 15, 18, 21, 25, 25, 30, 30, 35, 35, 40, 40],
            "lowerDeviations": [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]
        }, {
            "letter": "H",
            "number": 8,
            "upperDeviations": [14, 18, 22, 27, 33, 39, 39, 46, 46, 54, 54, 63, 63],
            "lowerDeviations": [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0]
        }, {
            "letter": "H",
            "number": 9,
            "upperDeviations": [25, 30, 36, 43, 52, 62, 62, 74, 74, 87, 87, 100, 100],
            "lowerDeviations": [ 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,   0,   0]
        }, {
            "letter": "H",
            "number": 10,
            "upperDeviations": [40, 48, 58, 70, 84, 100, 100, 120, 120, 140, 140, 160, 160],
            "lowerDeviations": [ 0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0]
        }, {
            "letter": "H",
            "number": 11,
            "upperDeviations": [60, 75, 90, 110, 130, 160, 160, 190, 190, 220, 220, 250, 250],
            "lowerDeviations": [ 0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0]
        }, {
            "letter": "J",
            "number": 6,
            "upperDeviations": [2,   5,  5,  6,  8, 10, 10, 13, 13, 16, 16, 18, 18],
            "lowerDeviations": [-4, -3, -4, -5, -5, -6, -6, -6, -6, -6, -6, -7, -7]
        }, {
            "letter": "J",
            "number": 7,
            "upperDeviations": [ 4,  6,  8, 10, 12,  14,  14,  18,  18,  22,  22,  26,  26],
            "lowerDeviations": [-6, -6, -7, -8, -9, -11, -11, -12, -12, -13, -13, -14, -14]
        }, {
            "letter": "J",
            "number": 8,
            "upperDeviations": [ 6, 10,  12,  15,  20,  24,  24,  28,  28,  34,  34,  41,  41],
            "lowerDeviations": [-8, -8, -10, -12, -13, -15, -15, -18, -18, -20, -20, -22, -22] // -18 o +18 ?? TODO comprobar
        }, {
            "letter": "JS",
            "number": 6,
            "upperDeviations": [ 3,  4,  4.5,  5.5,  6.5,  8,  8,  9.5,  9.5,  11,  11,  12.5,  12.5],
            "lowerDeviations": [-3, -4, -4.5, -5.5, -6.5, -8, -8, -9.5, -9.5, -11, -11, -12.5, -12.5]
        }, {
            "letter": "JS",
            "number": 7,
            "upperDeviations": [ 5,  6,  7.5,  9,  10.5,  12.5,  12.5,  15,  15,  17.5,  17.5,  20,  20],
            "lowerDeviations": [-5, -6, -7.5, -9, -10.5, -12.5, -12.5, -15, -15, -17.5, -17.5, -20, -20]
        }, {
            "letter": "JS",
            "number": 8,
            "upperDeviations": [ 7,  9,  11,  13.5,  16.5,  19.5,  19.5,  23,  23,  27,  27,  31.5,  31.5],
            "lowerDeviations": [-7, -9, -11, -13.5, -16.5, -19.5, -19.5, -23, -23, -27, -27, -31.5, -31.5]
        }, {
            "letter": "JS",
            "number": 9,
            "upperDeviations": [ 12.5,  15,  18,  21.5,  26,  31,  31,  37,  37,  43.5,  43.5,  50,  50],
            "lowerDeviations": [-12.5, -15, -18, -21.5, -26, -31, -31, -37, -37, -43.5, -43.5, -50, -50]
        }, {
            "letter": "K",
            "number": 7,
            "upperDeviations": [  0,  3,   5,   6,   6,   7,   7,   9,   9,  10,  10,  12,  12],
            "lowerDeviations": [-10, -9, -10, -12, -15, -18, -18, -21, -21, -25, -25, -28, -28]
        }, {
            "letter": "K",
            "number": 8,
            "upperDeviations": [  0,   5,   6,   8,  10,  12,  12,  14,  14,  16,  16,  20,  20],
            "lowerDeviations": [-14, -13, -16, -19, -23, -27, -27, -32, -32, -38, -38, -43, -43]
        }, {
            "letter": "M",
            "number": 6,
            "upperDeviations": [-2, -1,  -3,  -4,  -4,  -4,  -4,  -5,  -5,  -6,  -6,  -8,  -8],
            "lowerDeviations": [-8, -9, -12, -15, -17, -20, -20, -24, -24, -28, -28, -33, -33]
        }, {
            "letter": "M",
            "number": 7,
            "upperDeviations": [ -2,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            "lowerDeviations": [-12, -12, -15, -18, -21, -25, -25, -30, -30, -35, -35, -40, -40]
        }, {
            "letter": "M",
            "number": 8,
            "upperDeviations": [ -2,   2,   1,   2,   4,   5,   5,   5,   5,   6,   6,   8,   8],
            "lowerDeviations": [-16, -16, -21, -25, -29, -34, -34, -41, -41, -48, -48, -55, -55]
        }, {
            "letter": "N",
            "number": 6,
            "upperDeviations": [ -4,  -5,  -7,  -9, -11, -12, -12, -14, -14, -16, -16, -20, -20],
            "lowerDeviations": [-10, -13, -16, -20, -24, -28, -28, -33, -33, -38, -38, -45, -45]
        }, {
            "letter": "N",
            "number": 7,
            "upperDeviations": [ -4,  -4,  -4,  -5,  -7,  -8,  -8,  -9,  -9, -10, -10, -12, -12],
            "lowerDeviations": [-14, -16, -19, -23, -28, -33, -33, -39, -39, -45, -45, -52, -52]
        }, {
            "letter": "N",
            "number": 8,
            "upperDeviations": [ -4,  -2,  -3,  -3,  -3,  -3,  -3,  -4,  -4,  -4,  -4,  -4,  -4],
            "lowerDeviations": [-18, -20, -25, -30, -36, -42, -42, -50, -50, -58, -58, -67, -67]
        }, {
            "letter": "N",
            "number": 9,
            "upperDeviations": [ -4,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,    0,    0],
            "lowerDeviations": [-29, -30, -36, -43, -52, -62, -62, -74, -74, -87, -87, -100, -100]
        }, {
            "letter": "N",
            "number": 10,
            "upperDeviations": [ -4,   0,   0,   0,   0,    0,    0,    0,    0,    0,    0,    0,    0],
            "lowerDeviations": [-44, -48, -58, -70, -84, -100, -100, -120, -120, -140, -140, -160, -160]
        }, {
            "letter": "P",
            "number": 6,
            "upperDeviations": [ -6,  -9, -12, -15, -18, -21, -21, -26, -26, -30, -30, -36, -36],
            "lowerDeviations": [-12, -17, -21, -26, -31, -37, -37, -45, -45, -52, -52, -61, -61]
        }, {
            "letter": "P",
            "number": 7,
            "upperDeviations": [ -6,  -8,  -9, -11, -14, -17, -17, -21, -21, -24, -24, -28, -28],
            "lowerDeviations": [-16, -20, -24, -29, -35, -42, -42, -51, -51, -59, -59, -68, -68]
        }, {
            "letter": "P",
            "number": 8,
            "upperDeviations": [ -6, -12, -15, -18, -22, -26, -26, -32, -32, -37, -37,  -43,  -43],
            "lowerDeviations": [-20, -30, -37, -45, -55, -65, -65, -78, -78, -91, -91, -106, -106]
        }, {
            "letter": "P",
            "number": 9,
            "upperDeviations": [ -6, -12, -15, -18, -22, -26, -26,  -32,  -32,  -37,  -37,  -43,  -43],
            "lowerDeviations": [-31, -42, -51, -61, -74, -88, -88, -106, -106, -124, -124, -143, -143]
        }, {
            "letter": "R",
            "number": 6,
            "upperDeviations": [-10, -12, -16, -20, -24, -29, -29, -35, -37, -44, -47, -56, -58],
            "lowerDeviations": [-16, -20, -25, -31, -37, -45, -45, -54, -56, -66, -69, -81, -83]
        }, {
            "letter": "R",
            "number": 7,
            "upperDeviations": [-10, -11, -13, -16, -20, -25, -25, -30, -32, -38, -41, -48, -50],
            "lowerDeviations": [-20, -23, -28, -34, -41, -50, -50, -60, -62, -73, -76, -88, -90]
        }, {
            "letter": "S",
            "number": 7,
            "upperDeviations": [-14, -15, -17, -21, -27, -34, -34, -42, -48, -58,  -66,  -77,  -85],
            "lowerDeviations": [-24, -27, -32, -39, -48, -59, -59, -72, -78, -93, -101, -117, -125]
        }
    ],

    "shaftTolerances": [
        {
            "letter": "a",
            "number": 11,
            "upperDeviations": [-270, -270, -280, -290, -300, -310, -320, -340, -360, -380, -410, -460, -520],
            "lowerDeviations": [-330, -345, -370, -400, -430, -470, -480, -530, -550, -600, -630, -710, -770]
        }, {
            "letter": "a",
            "number": 12,
            "upperDeviations": [-270, -270, -280, -290, -300, -310, -320, -340, -360, -380, -410, -460, -520],
            "lowerDeviations": [-370, -390, -430, -470, -510, -560, -570, -640, -660, -730, -760, -860, -920]
        }, {
            "letter": "a",
            "number": 13,
            "upperDeviations": [-270, -270, -280, -290, -300, -310, -320, -340, -360, -380, -410,  -460,  -520],
            "lowerDeviations": [-410, -450, -500, -560, -630, -700, -710, -800, -820, -920, -950, -1090, -1150]
        }, {
            "letter": "c",
            "number": 11,
            "upperDeviations": [ -60,  -70,  -80,  -95, -110, -120, -130, -140, -150, -170, -180, -200, -210],
            "lowerDeviations": [-120, -145, -170, -205, -240, -280, -290, -330, -340, -390, -400, -450, -460]
        }, {
            "letter": "c",
            "number": 13,
            "upperDeviations": [ -60,  -70,  -80,  -95, -110, -120, -130, -140, -150, -170, -180, -200, -210],
            "lowerDeviations": [-200, -250, -300, -365, -440, -510, -520, -600, -610, -710, -720, -830, -840]
        }, {
            "letter": "d",
            "number": 6,
            "upperDeviations": [-20, -30, -40, -50, -65, -80, -80, -100, -100, -120, -120, -145, -145],
            "lowerDeviations": [-26, -38, -49, -61, -78, -96, -96, -119, -119, -142, -142, -170, -170]
        }, {
            "letter": "d",
            "number": 9,
            "upperDeviations": [-20, -30, -40, -50,  -65,  -80,  -80, -100, -100, -120, -120, -145, -145],
            "lowerDeviations": [-45, -60, -76, -93, -117, -142, -142, -174, -174, -207, -207, -245, -245]
        }, {
            "letter": "d",
            "number": 11,
            "upperDeviations": [-20,  -30,  -40,  -50,  -65,  -80,  -80, -100, -100, -120, -120, -145, -145],
            "lowerDeviations": [-80, -105, -130, -160, -195, -240, -240, -290, -290, -340, -340, -395, -395]
        }, {
            "letter": "e",
            "number": 6,
            "upperDeviations": [-14, -20, -25, -32, -40, -50, -50, -60, -60, -72, -72,  -85,  -85],
            "lowerDeviations": [-20, -28, -34, -43, -53, -66, -66, -79, -79, -94, -94, -110, -110]
        }, {
            "letter": "e",
            "number": 8,
            "upperDeviations": [-14, -20, -25, -32, -40, -50, -50,  -60,  -60,  -72,  -72,  -85,  -85],
            "lowerDeviations": [-28, -38, -47, -59, -73, -89, -89, -106, -106, -126, -126, -148, -148]
        }, {
            "letter": "e",
            "number": 13,
            "upperDeviations": [-14, -20, -25, -32, -40, -50, -50, -60, -60, -72, -72, -85, -85],
            "lowerDeviations": [-154, -200, -245, -302, -370, -440, -440, -520, -520, -612, -612, -715, -715]
        }, {
            "letter": "f",
            "number": 5,
            "upperDeviations": [-6, -10, -13, -16, -20, -25, -25, -30, -30, -36, -36, -43, -43],
            "lowerDeviations": [-10, -15, -19, -24, -29, -36, -36, -43, -43, -51, -51, -61, -61]
        }, {
            "letter": "f",
            "number": 6,
            "upperDeviations": [ -6, -10, -13, -16, -20, -25, -25, -30, -30, -36, -36, -43, -43],
            "lowerDeviations": [-12, -18, -22, -27, -33, -41, -41, -49, -49, -58, -58, -68, -68]
        }, {
            "letter": "f",
            "number": 7,
            "upperDeviations": [ -6, -10, -13, -16, -20, -25, -25, -30, -30, -36, -36, -43, -43],
            "lowerDeviations": [-16, -22, -28, -34, -41, -50, -50, -60, -60, -71, -71, -83, -83]
        }, {
            "letter": "g",
            "number": 5,
            "upperDeviations": [-2, -4,  -5,  -6,  -7,  -9,  -9, -10, -10, -12, -12, -14, -14],
            "lowerDeviations": [-6, -9, -11, -14, -16, -20, -20, -23, -23, -27, -27, -32, -32]
        }, {
            "letter": "g",
            "number": 6,
            "upperDeviations": [-2,  -4,  -5,  -6,  -7,  -9,  -9, -10, -10, -12, -12, -14, -14],
            "lowerDeviations": [-8, -12, -14, -17, -20, -25, -25, -29, -29, -34, -34, -39, -39]
        }, {
            "letter": "g",
            "number": 7,
            "upperDeviations": [ -2,  -4,  -5,  -6,  -7,  -9,  -9, -10, -10, -12, -12, -14, -14],
            "lowerDeviations": [-12, -16, -20, -24, -28, -34, -34, -40, -40, -47, -47, -54, -54]
        }, {
            "letter": "h",
            "number": 4,
            "upperDeviations": [ 0,  0,  0,  0,  0,  0,  0,  0,  0,   0,   0,   0,   0],
            "lowerDeviations": [-3, -4, -4, -5, -6, -7, -7, -8, -8, -10, -10, -12, -12]
        }, {
            "letter": "h",
            "number": 5,
            "upperDeviations": [ 0,  0,  0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0],
            "lowerDeviations": [-4, -5, -6, -8, -9, -11, -11, -13, -13, -15, -15, -18, -18]
        }, {
            "letter": "h",
            "number": 6,
            "upperDeviations": [ 0,  0,  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            "lowerDeviations": [-6, -8, -9, -11, -13, -16, -16, -19, -19, -22, -22, -25, -25]
        }, {
            "letter": "h",
            "number": 7,
            "upperDeviations": [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            "lowerDeviations": [-10, -12, -15, -18, -21, -25, -25, -30, -30, -35, -35, -40, -40]
        }, {
            "letter": "h",
            "number": 8,
            "upperDeviations": [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
            "lowerDeviations": [-14, -18, -22, -27, -33, -39, -39, -46, -46, -54, -54, -63, -63]
        }, {
            "letter": "h",
            "number": 9,
            "upperDeviations": [  0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,    0,    0],
            "lowerDeviations": [-25, -30, -36, -43, -52, -62, -62, -74, -74, -87, -87, -100, -100]
        }, {
            "letter": "h",
            "number": 10,
            "upperDeviations": [  0,   0,   0,   0,   0,    0,    0,    0,    0,    0,    0,    0,    0],
            "lowerDeviations": [-40, -48, -58, -70, -84, -100, -100, -120, -120, -140, -140, -160, -160]
        }, {
            "letter": "h",
            "number": 11,
            "upperDeviations": [  0,   0,   0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0],
            "lowerDeviations": [-60, -75, -90, -110, -130, -160, -160, -190, -190, -220, -220, -250, -250]
        }, {
            "letter": "h",
            "number": 12,
            "upperDeviations": [   0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0,    0],
            "lowerDeviations": [-100, -120, -150, -180, -210, -250, -250, -300, -300, -350, -350, -400, -400]
        }, {
            "letter": "j",
            "number": 5,
            "upperDeviations": [ 2,  3,  4,  5,  5,  6,  6,  6,  6,  6,  6,   7,   7],
            "lowerDeviations": [-2, -2, -2, -3, -4, -5, -5, -7, -7, -9, -9, -11, -11]
        }, {
            "letter": "j",
            "number": 6,
            "upperDeviations": [ 4,  6,  7,  8,  9, 11, 11, 12, 12, 13, 13,  14,  14],
            "lowerDeviations": [-2, -2, -2, -3, -4, -5, -5, -7, -7, -9, -9, -11, -11]
        }, {
            "letter": "j",
            "number": 7,
            "upperDeviations": [ 6,  8, 10, 12, 13,  15,  15,  18,  18,  20,  20,  22,  22],
            "lowerDeviations": [-4, -4, -5, -6, -8, -10, -10, -12, -12, -15, -15, -18, -18]
        }, {
            "letter": "js",
            "number": 5,
            "upperDeviations": [ 2,  2.5,  3,  4,  4.5,  5.5,  5.5,  6.5,  6.5,  7.5,  7.5,  9,  9],
            "lowerDeviations": [-2, -2.5, -3, -4, -4.5, -5.5, -5.5, -6.5, -6.5, -7.5, -7.5, -9, -9]
        }, {
            "letter": "js",
            "number": 6,
            "upperDeviations": [ 3,  4,  4.5,  5.5,  6.5,  8,  8,  9.5,  9.5,  11,  11,  12.5,  12.5],
            "lowerDeviations": [-3, -4, -4.5, -5.5, -6.5, -8, -8, -9.5, -9.5, -11, -11, -12.5, -12.5]
        }, {
            "letter": "js",
            "number": 7,
            "upperDeviations": [ 5,  6,  7.5,  9,  10.5,  12.5,  12.5,  15,  15,  17.5,  17.5,  20,  20],
            "lowerDeviations": [-5, -6, -7.5, -9, -10.5, -12.5, -12.5, -15, -15, -17.5, -17.5, -20, -20]
        }, {
            "letter": "k",
            "number": 5,
            "upperDeviations": [4, 6, 7, 9, 11, 13, 13, 15, 15, 18, 18, 21, 21],
            "lowerDeviations": [0, 1, 1, 1,  2,  2,  2,  2,  2,  3,  3,  3,  3]
        }, {
            "letter": "k",
            "number": 6,
            "upperDeviations": [6, 9, 10, 12, 15, 18, 18, 21, 21, 25, 25, 28, 28],
            "lowerDeviations": [0, 1,  1,  1,  2,  2,  2,  2,  2,  3,  3,  3,  3]
        }, {
            "letter": "k",
            "number": 7,
            "upperDeviations": [10, 13, 16, 19, 23, 27, 27, 32, 32, 38, 38, 43, 43],
            "lowerDeviations": [ 0,  1,  1,  1,  2,  2,  2,  2,  2,  3,  3,  3,  3]
        }, {
            "letter": "m",
            "number": 5,
            "upperDeviations": [6, 9, 12, 15, 17, 20, 20, 24, 24, 28, 28, 33, 33],
            "lowerDeviations": [2, 4,  6,  7,  8,  9,  9, 11, 11, 13, 13, 15, 15]
        }, {
            "letter": "m",
            "number": 6,
            "upperDeviations": [8, 12, 15, 18, 21, 25, 25, 30, 30, 35, 35, 40, 40],
            "lowerDeviations": [2,  4,  6,  7,  8,  9,  9, 11, 11, 13, 13, 15, 15]
        }, {
            "letter": "m",
            "number": 7,
            "upperDeviations": [12, 16, 21, 25, 29, 34, 34, 41, 41, 48, 48, 55, 55],
            "lowerDeviations": [ 2,  4,  6,  7,  8,  9,  9, 11, 11, 13, 13, 15, 15]
        }, {
            "letter": "n",
            "number": 5,
            "upperDeviations": [8, 13, 16, 20, 24, 28, 28, 33, 33, 38, 38, 45, 45],
            "lowerDeviations": [ 4, 8, 10, 12, 15, 17, 17, 20, 20, 23, 23, 27, 27]
        }, {
            "letter": "n",
            "number": 6,
            "upperDeviations": [10, 16, 19, 23, 28, 33, 33, 39, 39, 45, 45, 52, 52],
            "lowerDeviations": [ 4,  8, 10, 12, 15, 17, 17, 20, 20, 23, 23, 27, 27]
        }, {
            "letter": "n",
            "number": 7,
            "upperDeviations": [14, 20, 25, 30, 36, 42, 42, 50, 50, 58, 58, 67, 67],
            "lowerDeviations": [ 4,  8, 10, 12, 15, 17, 17, 20, 20, 23, 23, 27, 27]
        }, {
            "letter": "p",
            "number": 5,
            "upperDeviations": [10, 17, 21, 26, 31, 37, 37, 45, 45, 52, 52, 61, 61],
            "lowerDeviations": [ 6, 12, 15, 18, 22, 26, 26, 32, 32, 37, 37, 43, 43]
        }, {
            "letter": "p",
            "number": 6,
            "upperDeviations": [12, 20, 24, 29, 35, 42, 42, 51, 51, 59, 59, 68, 68],
            "lowerDeviations": [ 6, 12, 15, 18, 22, 26, 26, 32, 32, 37, 37, 43, 43]
        }, {
            "letter": "r",
            "number": 6,
            "upperDeviations": [16, 23, 28, 34, 41, 50, 50, 60, 62, 73, 76, 88, 90],
            "lowerDeviations": [10, 15, 19, 23, 28, 34, 34, 41, 43, 51, 54, 63, 65]
        }, {
            "letter": "s",
            "number": 6,
            "upperDeviations": [20, 27, 32, 39, 48, 53, 53, 72, 78, 93, 101, 117, 125],
            "lowerDeviations": [14, 19, 23, 28, 35, 43, 43, 53, 59, 71,  79,  92, 100]
        }
    ]
};

var diameterRanges = [ 0, 3, 6, 10, 18,     30, 40, 50, 65, 80, 100, 120, 140, 160];
//var diameterRanges = [ 0, 3, 6, 10, 18, 24, 30, 40, 50, 65, 80, 100, 120, 140, 160];

export const maxDiameter = 160;

export function CalculateTolerance(letter, number, diameter) {

    let t = null;

    console.log("letter.toString().toUpperCase() = " + letter.toString().toUpperCase() + " ... letter = " + letter);

    // find letter-number combination
    if (letter.toString().toUpperCase() === letter) {
        console.log("hole!");
        t = jsonData.holeTolerances.find(x => x.letter === letter && x.number === number);
    } else {
        console.log("shaft");
        t = jsonData.shaftTolerances.find(x => x.letter === letter && x.number === number);
    }

    if (t == null) {
        return -1; // combination letter-number not found
    } else {
        // find range
        let range = 0;
        for (let r of diameterRanges){
            if (r >= diameter){
                if (range !== 0) range--;
                break;
            }
            else{
                range ++;
            }
        }

        // calculations
        let upperDeviation = t.upperDeviations[range];
        let lowerDeviation = t.lowerDeviations[range];
        let max = diameter + upperDeviation * 0.001;
        let min = diameter + lowerDeviation * 0.001;
        let avg = (upperDeviation + lowerDeviation) / 2;
        let tolerance = Math.abs(upperDeviation - lowerDeviation);
        
        // to more readable numbers
        tolerance = Math.round(tolerance * 100) / 100;
        upperDeviation = Math.round(upperDeviation * 100) / 100;
        lowerDeviation = Math.round(lowerDeviation * 100) / 100;
        max = Math.round(max * 1000) / 1000;
        min = Math.round(min * 1000) / 1000;
        avg = Math.round(avg * 1000) / 1000;

        // return results
        return {
            "id": 0,
            "diameter": diameter,
            "letter": letter,
            "number": number,
            "tolerance": tolerance,
            "upperDeviation": upperDeviation,
            "lowerDeviation": lowerDeviation,
            "max": max,
            "min": min,
            "avg": avg
        };

    }

}